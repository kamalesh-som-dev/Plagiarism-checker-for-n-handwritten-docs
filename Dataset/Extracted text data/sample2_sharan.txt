
DataBase Management Systems
SHARAN.S
11.02.2022
FRIDAY
CAT-3 - EXAM
.
IT-B
ROUNO-81
2127200801081
8b)
Deadlock Handling -
consider the following 2 transactions and history
with Item x and trans action TI at site 1 and
Itemy and transaction T2 at site 2
T1: write (x)
T2: write(x)
write (y)
write.cy
lock on x
write (x)
x lock ony
writely,
wait for X - -LOCK on x
wait for X -Lockony
Here deadlock cant be detected locally at either site.
Deadlock Detection -
In the centralized deadlock detection approch a
910 bal wait - for graph is constructed and
maintained in a single site.
Realgraph - Real but unknown state of system
constructed - Approximation generated by the
Graph controuer during the execution.
The global wait for graph can be constructed when
a new edge is inserted in / removed fromone
of the local wait for graph
a number of changes have occured in a
localwait - -for graph:
The coordinator needs to invore cycle detection
If the coordinator finds a cycle it selects a
victim and notifies all sites. The sites rollback
the victim transaction.
[eg]
51
S2
T1
T2
T2
T4
T5
T3
T3
Local
TI
T2
T4
GLobal
T5
T3
(eg] wait -for graphs for False cycles -
Initial state -
T1
Ti
T2
T3
S1
S2
Ti
T2
T3
COORDINATOR
False cycles -
supposethat starting from the state snow in the figure
1. T2 releases resources at S1
resulting in a message remove T1
T2
message from the transaction Manager
at site 51 to the coordinater.
2. Then T2 request a resource held by T3 at 52
resulting in a msg insert T2 T3 from.
52 to the coordinator
suppose furtherth at insert msg reach as b/w the del
message
This can happen due a network delays.
The coordinator would then find a false cycle
T1 T2 -7 T3 TI
A
False cycles cant occur if aphaselocking is used
In distributed deadlocks unecessary rollbacks may
result when deadlock has indeed occured the
other transactions are aborted unRelated to the
deadlock.
Due to False cycle in the graph likelinood of falsecycles islow.
Expensive and notused in practice.
7a)
A corrent files contains a listof files and
integrity metadata and optionally contains a
list of trackers.
Each file to be. distributed is divided inco small
information chunks called pieces. is
technology to ensure fault +01 erance :-
Fault-Tobrent The services USING Replicated state machines
key requirement :- make a service fault tolerant
(ey ) LOCK manager
statemaenines are powerful approch to create
such service.
state machine has a stored state and receeves output I/PS
makes A state transitions on each Ilpand many
some results
Transitions and output must be deterministic
replicated state machine is a state machinetrat
A
is reducated on multiple nodes.
All replicas must exactly getthe same IIPS
ReplicatedLog.
Even if some of the nodes fail state and output
can be obtained from other nodes.
Replicated state machine -
Replicated state machine based on replicate d109
Example comman ds assign values to variables.
CLIENT
CONSENSUS
CONSENSUS
CONSENUS
MODULE
MODULE
MODULE
LOG
LOG
LOG
Follower
FOLLO wer
Leader
it can be used to implement wide vonety of services
Inputs can specify operations with parameters
But operations must be deterministic.
Result of operation can b8 sent from any replica
(eg) Fault Tolerant lockmanager
state -Locktan e
OD - 10CK rea & releases
output - grant, rollback.
centralized Implementation is mode.
Fault Tolerant key valuestore -
state - Keyrawe
operation - gotl), put C)
Google spanner uses replicated state machine
GO implement key- value store.
Data is partitioned and each partion is
replicated accross m utiple nodes
replicas of a parion form a PAXOS group with one
node as leader.
operations initiated at leader and rep to other nodes
6b) challenges in maintaining Data consistency
a discrepancy occurs when data in the target The
Dat deviates from the source database on
database extent to which the data deviates depends
various factors.
Even reliably such as orancie th are remain potential
when using products that replicate data
causes or datad iscreparcy
some of the potential causes of sections data discrepancy
are described in the following
MIGRATION ERRORS -
Diff kinds of migration tools are employed.
facilitake the initial wad of the target databases
before replication can begin.
Diff erences in config aration for handing data by
migration tools and deplication products can
result in data dis crepancies.
LIFT & SHIFT WORKLOAD ON CLOUD:-
since the world is moving to owards cloun to this
database workload from on premises cloud
is the need of today's It world.
INSTANTATION ERRORS :-
Before migration or replication can begin the
target database will need to be instanti tated
with the correct schema and constraints Failure
to do so will result in the source of target being
out ofsync.
CONFIGURATION ERRORS :-
Improper and unintended configuration of
replication products can cause discrepancies in
replication logs since from the replication product's
This type of discrepancy doesn't snow up the
perspective it is performing as configured.
CAP THROREM-
3 properties of asystem
consistency
an ex ecute, on of a set of
orperation on replicated data
is said to be consist ent if its
result is same as IF the the
operations were exemued on a
sign Ie nodein a sequential ord er.
Availability
via repucati on
partition
Networks canbreakinco 20r moreparts
each with active system that can't talk
to other parts.
Brewer's CAP'S theorem -
can have at most 2 OF these 3 prop foramysys
you
systems will partier on availability. at some point.
very choose large one of consistency or
Latency applications IS choose latenay. to serve potentially
another factor.
Many state data to reduce
PART-A
3. ADVaNTaGe -
1. Data Retrieval- provide computer enhanced based systems data
retrieval tecnniqu as to
receive data.
It is ewy to edit any info
2. Editing -
stored in computers nform of
files. specific application
programor editing software
can be used For this purpose.
DISADVANTAGES -
1. Data Redundancy - possible that the same
info may be duplicated in
different tiles this leads
to data redun da incy
and memory wastage.
2. Data Inconsistency - Beause OF date a
redundancy it is possible
that may not be in
consistent state.
1. For the 2 disk mirrored case we assume Aand 8.
Inorder to lose data, A and Bneedto be failde at
same time If A is already failed and within
100000 the hours B disk will fail then dat a will belost.
The other case is B is already failded and with in
100,000 hours A will fail and then dat a will be/ as t
For the first case A disk is failded for 100 hours
every 100,000 hours so in order tomake Bto fail
it will need 100000 2 /100 hours. Because the other
case the time is reduced to 100000 2 2/2x1 100 .
5. SQL server supports storing and querying of
geospatial data that is location data referenced
to earch. The main distinction blw these two
systems IS that the latter takes acount the
curvature of the earth.
Map database management systems are so+twar e
199ms designed to efficiently store d recau spacicle
information
2.
Database indexing Hashtables may also be
used as diskbased data structures and database
indices such as in DBMS although B-trees are
more P opular in these applications In multi- node
database systems, hasn tables are commonly
usedto distribute rows amongst nodes, reduang
network traffic for hasn joins.
4. MySQL enables restrictions to be eshtabli placed ish on
of previous passwords. TO use the
reuse rese policy globally - reuse
password password - history and password interval
system variables.