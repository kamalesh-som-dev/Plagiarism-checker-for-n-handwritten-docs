
IT18305. Database Systems
Name : A. Vijayalakshni
class: IT-B
CAT-III
Reg no: 2127200801102
PART-C
8.hb.)
Deadlock handling:-
Consider the following two transactions and
history ,with item X & transaction T. at site! &
item Y and transaction T2 at site 2. .
T. :
Write (x)
write (x)
T2
write (Y)
write (Y)
X- lock on X
write (x)
X- lock on Y
write (y)
wait for X- lock on X
Wait for x-lock ony
Result: Deadlock which cannot be detected locally
at either side
Deadlock Detection:
In the centralized deadlock detection approach,
a global wait - for graph is constructed and maintained
in a single site; the deadlock detection coordinator
Real graph: Real but unknown, state of the system.
constructed graph: Approximation generated by controller
during the execution of its algorithm.
The Global wait - for graph can be constructed when
a new edge is inserted or removed from one of the
local wait - for graphs
a number of changes have occured in a local wait-
for graph
The coordinator needs to invoke cycle - detection.
If the coordinator finds a cyclo, it selects a victim &
notifies all sites The sites roll back the victim transaction
Local and Global wait - -for Graphs
Ti
T2
T2
T4
T5
T3
T3
Local
Site 5,
Site S2
T,
T2
T4
Global.
T5
T3
Example wait- for graph for false cycles:-
Initial state:-
T,
F
2
T2
S,
S2
T1
T2
T3
coordinator
false cycles:-
T2 releases resourses at S,
resulting in message remove T. T2 message
from the transaction manager at site S, to coordinator)
And T2 requests a resource held by T3 at site S2
resulting in a message insert T2
T3 from
S2 to coordinator
Suppose further that insert message reaches before
the delete message
This happen due to network delays
The coordinator would then find a false cycle.
The false cy y de above nexer existed in reality
false-cycles - cannot occur if two-phase locking is
used.
Distributed Deadlocks :-
Unnecessary roll backs may result:
When deadlock has indeed occured & a victim has
been picked & one 8 the transaction was aborted
for reasons unrelated to deadlock
Due to false cycles in global wait - for cycle
graph; however likelihood of false cycles is low.
In the distributed deadlock detection approach,
sites exchange wait - for information & check for
deadlocks
Expensive & not used in practice
PART-B
6.) b)
Before we discuss the requirements for sol that
helps manage data consistency across databases, we
need to understand common causes of data discrepancies
in an Enterprice.
Data discripancy occurs when data in target
database deviates from source database
Some of the Potential causes of data discrepancy
are described below.
Mitigation errors:-
Different kinds of migration tools are employed to
facilitate the initial load of the target database
before replication can begin
Difference in configuration for handling data by
the migration tools and replication products can
result in data discrepancies
Insantiation Errors:-
Before the migration or replication can begin, the
target database will need to be insantiated with the
correct schema & constraints.
Failure to do so will result in the source
and target being out of sync
configuration Errors:-
Improper and unintended configuration of replication
Products can result in discrepancy.
It does it show replication logs properly.
User errors:-
often target databases are created to offload
query processing from the source database
This enables rich operational reporting without
impacting the applicati on running on source database
Requirements for maintaining Data consistency :-
High speed, low impact data comparisons
Minimally intrusive
capability to identify data inconsistency
Zero downtime of Source & target systems
Data security
Support to heterogenous databases
Orade GoldenGate Veridata:-
It is an easy to use, high performance &
minimally invasive product that helps manage
data consistency across an enterprice
It can be used in musts ple senarios to
ensure data consistency / including comparing
database with large data volumes or comparing databases
with constantly changing data
PART-L
Da.)
fault -Tolerant services using Replicated state machines
Key requirement :make a service fault tolerant
eg : lock manager, key -value storage system,
State machines are powerful approach to creating
such services.
A state machine
Has a stored state p and received inputs
snakes a state transistions on each input, &
may output some results.
Transaction & output must be deterministic
A replicated state machine is a state machine
that is replicated on multiple nodes
All replicas must get exactly same inputs
Even if some of the nodes fails, state &
output can be obtained from other nodes.
Replicated State machine:-
Replicated state machine based on replicated log
Eg : commands assign values to Variables.
client
yt7
consensus
consensus
consensus
x
3
x 3
n
3
module
module
module
y
y
7
y
1
7
Z 3
Z
3
Z
3
log
Coa
log
NE2
ZE2
XE3
YE
4
YE
7
NE2
ZE2
xe3 YE4UK7
XE2
34544
7
Leader
follower
Follower
Uses of Replicated state machines
Replicated state machines can be used to
implement wide variety of services
Inputs can specify operations with parameters
But operations must be deterministic
Results of operation can be sent from any
replica
Gets executed only when log record is
Commited in replicated log.
usually sent from leader, which knows
which part of log is committed
Ex : Fault - . E olerant lock manager
State : lock table
operations. lock requests & lock releases
Output: grant or roll back req on deadlock
centralized implementati on is made fault tolorant
by simply running it on a replicated state machines
Fault tobrant key - value store
State : Key - Value storage state
operations: get () & put () are first logged.
operations executed when the log record is
in commited state
Note: even get () operations needs to be
processed via log.
Google spanner was replicated state machine to
implement key - yalue store
Data is partitioned & each partiti on is
replicated across multiple nodes
Replicas of partition form a pasos group
in th one node as leader
operations initiated at leader &
replicated to other nodes.
PART-A
1)
for the two disk mirrored case, we assume A disk
and B disc In order to lose data A &B need to
be failed at the same time If A is already
failed & within 100,000 hrs B disk will fail,
then data will be lost. The other case is B is
already failed & within 100,000 hrs A will fail
and then data will be lost.
For the first case, A disk is failed for 100
hrs every 100,000 hrs So in order to make B to
fail it will need 100,000^ 2 1 100 hrs Because the
other case the time is reduced to 100,000 2/12x100)
3.)
Advantage:-
i)
Data retrieval :-
computer -based systems provide enhanced data
retrieval techniques to retrieve data stored in
files in easy and efficient way.
ijik) Editing :
It is easy to edit any information stored in
computers in form of files
Specific application Prgs or editing software can
be used for this purpose.
Disadvantages:-
(i)
Data Redundancy :
It is possible that same information may be
duplicated in diff files. This leads to data redundancy
results in memory wastage
isi)
Data inconsis tency :-
Because of data redundancy it is possible that
data may not be in consistent state.
2)
Database indering . Hash tables may also be used as
disk - based data structures & database indices
( such as in dbm) although B-trees are more
popular in these applications In multi-node database
systems hash tables are commonly used to
distribute rows among nodes, reducing network
traffic for hash joins.
4.)
MYSQL enables restrictions to be placed on reuse
of previous passwords. To establish password-
reuse policy globally , use the password history &
password- reuse - interval system variables
5.)
thap database management systems are software
Programs designed to efficiently store and recall
epatial information They are widely used in localization
and navigation especially in automotive applications.
thoreover ,they are playing an increasingly important
role in the emerging areas of Location-based services,
active safety functions & advanced driver assistance
systems. common to these functions is requirement
for an on-board map database that contains
information describing road network.
When designed well, a map database enables
the rapid indering & lookup of large amount of
geographic data.